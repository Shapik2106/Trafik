# traffic.py
# Основний модуль розрахунку телетрафіку

def calculate_traffic(N, n, t, T, m, q):
    """
    N — кількість абонентів
    n — кількість сеансів зв'язку
    t — тривалість сеансу (с)
    T — тривалість робочого дня (хв)
    m — кількість каналів
    q — ймовірність передзвону (0..1)
    """

    A = (N * n * t) / (T * 60)
    A1 = A / m

    Pc = A1 / (1 + A1)
    Pb = Pc * q
    Pa = Pb * 0.8

    return A, A1, Pc, Pb, Pa


# ====== МОЖЛИВІСТЬ ЗАПУСКУ БЕЗ GUI ======
if __name__ == "__main__":
    print("Розрахунок характеристик трафіку\n")

    N = float(input("Кількість абонентів: "))
    n = float(input("Кількість сеансів зв'язку: "))
    t = float(input("Тривалість сеансу (с): "))
    T = float(input("Тривалість робочого дня (хв): "))
    m = int(input("Кількість каналів: "))
    q = float(input("Ймовірність передзвону (%): ")) / 100

    A, A1, Pc, Pb, Pa = calculate_traffic(N, n, t, T, m, q)

    print("\nРЕЗУЛЬТАТИ:")
    print(f"Трафік багатоканальної системи A = {A:.3f}")
    print(f"Трафік на канал A1 = {A1:.3f}")
    print(f"Ймовірність затримки Pc = {Pc:.3f}")
    print(f"Ймовірність відмови Pb = {Pb:.3f}")
    print(f"Ймовірність відмови Pa = {Pa:.3f}")
